<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Identificador de Cavalos</title>
<style>
  :root{--bg:#f6f7fb;--card:#fff;--muted:#666;--accent:#4a7cff}
  body{font-family:Inter,Arial,Helvetica,sans-serif;background:var(--bg);margin:0;padding:22px}
  h1{text-align:center;color:#0f172a;margin:6px 0 20px}
  .wrap{max-width:980px;margin:0 auto}
  .btn{padding:10px 14px;border-radius:10px;border:0;cursor:pointer}
  .primary{background:var(--accent);color:#fff;box-shadow:0 8px 24px rgba(74,124,255,0.15)}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
  .card{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 4px 14px rgba(2,6,23,0.06);border:1px solid rgba(2,6,23,0.04)}
  .label{font-size:12px;color:var(--muted);margin-top:8px}
  .value{font-weight:600;font-size:16px;color:#0f172a}
  .actions{display:flex;gap:8px;margin-top:12px}
  .edit{background:#f59e0b;color:#08203a;padding:8px 12px;border-radius:8px;border:0}
  .del{background:#ef4444;color:white;padding:8px 12px;border-radius:8px;border:0}
  #loginBox, #mainBox, #modal{max-width:420px;margin:0 auto}
  #modal{display:none;position:fixed;inset:0;background:rgba(2,6,23,0.45);backdrop-filter:blur(4px);align-items:center;justify-content:center;padding:20px;z-index:999}
  #modalBox{width:100%;background:white;padding:18px;border-radius:12px;box-shadow:0 10px 40px rgba(2,6,23,0.2)}
  input[type="text"], input[type="number"], input[type="password"]{width:100%;padding:8px;border-radius:8px;border:1px solid #e6e9ee;margin-top:8px}
  .row{display:flex;gap:10px;margin-top:12px}
  @media (max-width:520px){ .row{flex-direction:column} }
</style>
</head>
<body>
<div class="wrap">
  <h1>Identificador de Cavalos</h1>

  <!-- Login / Cadastro -->
  <div id="loginBox">
    <h3>Login ou Cadastro</h3>
    <input id="username" placeholder="Nome de usuário" />
    <input id="password" type="password" placeholder="Senha" />
    <div class="row">
      <button id="loginBtn" class="btn primary" style="flex:1">Entrar</button>
      <button id="signupBtn" class="btn" style="flex:1;background:#ddd">Cadastrar</button>
    </div>
  </div>

  <!-- Área principal -->
  <div id="mainBox" style="display:none">
    <div class="controls">
      <button id="addBtn" class="btn primary" style="display:none">Adicionar Cavalo</button>
    </div>
    <div id="list" class="grid" aria-live="polite"></div>
  </div>

  <!-- Modal -->
  <div id="modal" role="dialog" aria-hidden="true">
    <div id="modalBox">
      <h3 id="modalTitle">Adicionar Cavalo</h3>
      <label class="label">Nome</label>
      <input id="nome" type="text" />
      <label class="label">Pai</label>
      <input id="pai" type="text" />
      <label class="label">Mãe</label>
      <input id="mae" type="text" />
      <label class="label">Copas Ganhas</label>
      <input id="copas" type="number" min="0" />
      <div class="row">
        <button id="saveBtn" class="btn primary" style="flex:1">Salvar</button>
        <button id="cancelBtn" class="btn" style="flex:1;background:#ddd">Cancelar</button>
      </div>
    </div>
  </div>
</div>

<!-- JS Inline -->
<script type="module">
  // ========== COLE AQUI SUAS CREDENCIAIS ==========
  const SUPABASE_URL = "https://uhnfgfmlghctzrictcaf.supabase.co"; // substitua
  const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVobmZnZm1sZ2hjdHpyaWN0Y2FmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5ODE0NjYsImV4cCI6MjA3OTU1NzQ2Nn0.1ogJDVg6P6NFdlWuC7K9Jg66e01gVujJJFdq0FWc1lg"; // substitua
  // ==============================================
  import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";
  const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

  // ELEMENTOS
  const loginBox = document.getElementById('loginBox');
  const mainBox = document.getElementById('mainBox');
  const usernameInput = document.getElementById('username');
  const passwordInput = document.getElementById('password');
  const loginBtn = document.getElementById('loginBtn');
  const signupBtn = document.getElementById('signupBtn');
  const addBtn = document.getElementById('addBtn');
  const listEl = document.getElementById('list');
  const modal = document.getElementById('modal');
  const modalBox = document.getElementById('modalBox');
  const modalTitle = document.getElementById('modalTitle');
  const nomeIn = document.getElementById('nome');
  const paiIn = document.getElementById('pai');
  const maeIn = document.getElementById('mae');
  const copasIn = document.getElementById('copas');
  const saveBtn = document.getElementById('saveBtn')
  const cancelBtn = document.getElementById('cancelBtn');
